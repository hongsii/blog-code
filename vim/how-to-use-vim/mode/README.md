# 모드

Vim을 사용하기 위해선 기본적으로 4가지 모드에 대해서 알야아 합니다. Vim에는 아래와 같은 모드가 존재합니다.

* [일반모드](#일반모드)
* [입력모드](#입력모드)
* [비주얼모드](#비주얼모드)
* [Ex모드](#Ex모드)

## 일반모드

### 숫자 연산

* `ctrl + a` : 커서 아래의 숫자 1씩 증가
* `ctrl + x` : 커서 아래의 숫자 1씩 감소
* `[숫자값][ctrl + a | ctrl + x]` : 커서 아래의 숫자를 숫자값만큼 증가/감소
    * `10ctrl+a` : 숫자 10 증가
    * `10ctrl+x` : 숫자 10 감소
* 커서 아래에 숫자가 없으면 커서의 오른쪽에서 가장 가까운 숫자로 이동해 증감 수행

### 명령어 조합

Vim 에 모션과 오퍼레이터라는게 존재하며, 이 둘을 조합해 다양한 명령어를 수행할 수 있습니다.

#### 모션

모션은 오퍼레이터가 적용될 대상을 뜻합니다.
* `l` : 문자 모션
* `aw` : 단어 모션
* `ap` : 문단 모션

#### 오퍼레이터

특정 모션에게 수행할 동작을 **오퍼레이터 (operator)** 라고 합니다. 모든 오퍼레이터 항목은 `:h operator` 에서 확인할 수 있습니다.
* 별도의 모션 없이 오퍼레이터만 반복해서 입력한다면 현재 행을 대상으로 동작합니다.
    * 예를 들어, 삭제 오퍼레이터 `d`를 반복 입력하면 현재 행을 삭제 (`dd`)

#### 삭제 (`d`)

* `dl` : 한 단어 삭제 (`x`와 동일) 
* `daw` : 한 문자 삭제
* `dap` : 한 문단 삭제

#### 대소문자 변환

* `~` : 커서 아래의 한 문자를 대소문자 변환
* `g~` : 알파벳을 대소문자(대문자는 소문자 / 소문자는 대문자)로 변환
    * `g~~` : 커서가 있는 라인의 알파벳을 대소문자로 변환
    * `g~aw` : 하나의 단어를 대소문자로 변환
    * `g~ap` : 문단 전체를 대소문자로 변환
* `gU` : 알파벳을 대문자로 변환
    * `gUU` : 커서가 있는 라인의 알파벳을 대문자로 변환
    * `gUaw` : 하나의 단어를 대문자로 변환
    * `gUap` : 문단 전체를 대문자로 변환
* `gu` : 알파벳을 소문자로 변환
    * `guu` : 커서가 있는 라인의 알파벳을 소문자로 변환
    * `guaw` : 하나의 단어를 소문자로 변환
    * `guap` : 문단 전체를 소문자로 변환

#### 들여쓰기 / 내어쓰기 (Tab 문자 추가)

* `>` : 들여쓰기
    * `>aw` : 현재 라인을 들여쓰기
    * `>ap` : 현재 문단을 들여쓰기
* `<` : 내어쓰기
    * `<aw` : 현재 라인을 내어쓰기
    * `<ap` : 현재 문단을 내어쓰기
* `=` : 자동 들여쓰기


## 입력모드

Vim에서는 일반 에디터와 다르게 문자를 입력하기 위한 모드가 존재하며, 입력모드(insert mode)라고 합니다.

### 입력모드로 전환

아래는 일반 모드에서 입력모드로 전환하는 명령어입니다.

* `i` : 현재 커서 위치에서 입력모드 시작
* `a` : 현재 커서 위치의 문자 다음부터 입력모드 시작
* `I `: 행의 처음에서 입력모드 시작
* `A` : 행의 끝에서 입력모드 시작
* `o` : 현재 행의 아래쪽으로 새로운 라인을 추가하고 입력모드 시작
* `O` : 현재 행의 위쪽으로 새로운 라인을 추가하고 입력모드 시작
* `s` : 커서 아래의 한 문자를 지우고 입력모드 시작
* `S` : 현재 행을 지우고 입력모드 시작

### 잘못 입력한 내용 지우기

입력모드에서 문자를 잘못 입력했다면 백스페이스로 문자를 지울 수 있습니다.  백스페이스 외에도 다양한 방법이 존재합니다. 아래 명령어는 Vim뿐만 아니라 Bash 쉘에서도 동일하게 동작합니다.

* `ctrl + h` : 커서 앞에 있는 문자 하나 지우기 (백스페이스와 동일)
* `ctrl + w` : 커서 앞에 있는 단어 하나 지우기
* `ctrl + u` : 커서부터 행의 시작 부분까지 지우기

### 일반모드로 전환

Vim을 사용할 때 대부분의 시간을 일반 모드에서 작업(~~그래서 일반 모드라 부름~~)합니다. 그래서 다양한 명령어를 사용하려면 입력모드에서 다시 일반 모드로 돌아가야 합니다. 일반 모드로 돌아가는 명령어는 아래와 같습니다.

* `Esc` : 일반모드로 전환
* `ctrl + [` : 일반모드로 전환
* `ctrl + o` : 입력-일반모드로 전환

#### 입력-일반 모드

입력모드에서 작업하다보면 하나의 일반 모드 명령어를 실행하기 위해 일반 모드로 돌아가야하는 경우가 있습니다. 이럴 경우에 일반 모드로 전환해 명령어를 실행하고 다시 입력모드로 전환하는 과정을 거쳐야 합니다. 이러한 과정을 간편하게 할 수 있는 모드가 바로 **입력-일반 모드 (insert normal mode)** 입니다. 

예를 들어, 파일의 중간 부분에서 문자를 입력하다가 파일의 마지막에서 문자를 입력하고 싶다면 

> `Esc` (일반 모드 전환) -> `G` (파일의 마지막으로 이동) -> `i` (입력모드로 전환)

위와 같은 순서로 입력하면 됩니다. 이를 더 간편하게 하려면 입력-일반 모드를 사용하면 됩니다.

> `ctrl + o` (입력-일반 모드 전환) -> `G` (파일의 마지막으로 이동)

위와 같이 입력하면 처음 실행했던 방법과 동일하게 마지막에서 문자를 입력할 수 있습니다.  
이처럼 입력-일반 모드를 사용하면 일반 모드에서 일회성으로 명령어를 실행하고 다시 입력모드로 돌아올 수 있습니다.
